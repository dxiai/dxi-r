<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="de" xml:lang="de"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Einführung in die Datenwissenschaft mit R - 11&nbsp; Boole’sche Operationen</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../kapitel/vektor-operationen/kapitel.html" rel="next">
<link href="../../kapitel/faktoren/kapitel.html" rel="prev">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "Keine Treffer",
    "search-matching-documents-text": "Treffer",
    "search-copy-link-title": "Link in die Suche kopieren",
    "search-hide-matches-text": "Zusätzliche Treffer verbergen",
    "search-more-match-text": "weitere Treffer in diesem Dokument",
    "search-more-matches-text": "weitere Treffer in diesem Dokument",
    "search-clear-button-title": "Zurücksetzen",
    "search-detached-cancel-button-title": "Abbrechen",
    "search-submit-button-title": "Abschicken",
    "search-label": "Suchen"
  }
}</script>

  <script>window.backupDefine = window.define; window.define = undefined;</script><script src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css">

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Seitenleiste umschalten" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../kapitel/variablen/kapitel.html">Mathematik der Daten</a></li><li class="breadcrumb-item"><a href="../../kapitel/boolsche-operationen/kapitel.html"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Boole'sche Operationen</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Seitenleiste umschalten" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../../">Einführung in die Datenwissenschaft mit R</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/dxiai/dxi-r" rel="" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Suchen"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Vorwort</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../kapitel/einleitung/kapitel.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Einleitung</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../kapitel/tool-chain/installation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Tool Chain</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../kapitel/tool-chain/hilfe.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Hilfe bekommen</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../kapitel/tool-chain/language.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">R-Sprachelemente</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Datenquellen</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../kapitel/daten-organisieren/kapitel.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Dokumentation</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../kapitel/datentypen/kapitel.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Datentypen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../kapitel/daten-importieren-exportieren/kapitel.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Importieren und Exportieren</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Mathematik der Daten</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../kapitel/variablen/kapitel.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Variablen, Funktionen und Operatoren</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../kapitel/zeichenketten/kapitel.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Zeichenketten</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../kapitel/faktoren/kapitel.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Faktoren</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../kapitel/boolsche-operationen/kapitel.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Boole’sche Operationen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../kapitel/vektor-operationen/kapitel.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Vektoroperationen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../kapitel/matrix-operationen/kapitel.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Matrix-Operationen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../kapitel/indizieren-gruppieren/kapitel.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Indizieren und Gruppieren</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../kapitel/daten-kodieren/kapitel.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Daten kodieren</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../kapitel/daten-formen/kapitel.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Daten formen</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
 <span class="menu-text">Deskriptive Datenanalyse</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../kapitel/daten-beschreiben/kapitel.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Daten beschreiben</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../kapitel/daten-visualisieren/kapitel.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Daten visualisieren</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Referenzen</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Inhaltsverzeichnis</h2>
   
  <ul>
  <li><a href="#logische-aggregationen-mit-reduce" id="toc-logische-aggregationen-mit-reduce" class="nav-link active" data-scroll-target="#logische-aggregationen-mit-reduce"><span class="header-section-number">11.1</span> Logische Aggregationen mit <code>reduce()</code></a></li>
  <li><a href="#vergleiche" id="toc-vergleiche" class="nav-link" data-scroll-target="#vergleiche"><span class="header-section-number">11.2</span> Vergleiche</a>
  <ul class="collapse">
  <li><a href="#die-existenz-eines-werts-in-einem-vektor-überprüfen" id="toc-die-existenz-eines-werts-in-einem-vektor-überprüfen" class="nav-link" data-scroll-target="#die-existenz-eines-werts-in-einem-vektor-überprüfen"><span class="header-section-number">11.2.1</span> Die Existenz eines Werts in einem Vektor überprüfen</a></li>
  </ul></li>
  <li><a href="#fälle-unterscheiden" id="toc-fälle-unterscheiden" class="nav-link" data-scroll-target="#fälle-unterscheiden"><span class="header-section-number">11.3</span> Fälle unterscheiden</a>
  <ul class="collapse">
  <li><a href="#bedingte-operationen" id="toc-bedingte-operationen" class="nav-link" data-scroll-target="#bedingte-operationen"><span class="header-section-number">11.3.1</span> Bedingte Operationen</a></li>
  <li><a href="#vektorisierte-unterscheidungen" id="toc-vektorisierte-unterscheidungen" class="nav-link" data-scroll-target="#vektorisierte-unterscheidungen"><span class="header-section-number">11.3.2</span> Vektorisierte Unterscheidungen</a></li>
  </ul></li>
  <li><a href="#filtern" id="toc-filtern" class="nav-link" data-scroll-target="#filtern"><span class="header-section-number">11.4</span> Filtern</a>
  <ul class="collapse">
  <li><a href="#na-werte-filtern" id="toc-na-werte-filtern" class="nav-link" data-scroll-target="#na-werte-filtern"><span class="header-section-number">11.4.1</span> <code>NA</code>-Werte filtern</a></li>
  </ul></li>
  <li><a href="#selektieren" id="toc-selektieren" class="nav-link" data-scroll-target="#selektieren"><span class="header-section-number">11.5</span> Selektieren</a>
  <ul class="collapse">
  <li><a href="#vektoren-direkt-selektieren" id="toc-vektoren-direkt-selektieren" class="nav-link" data-scroll-target="#vektoren-direkt-selektieren"><span class="header-section-number">11.5.1</span> Vektoren direkt selektieren</a></li>
  <li><a href="#alle-ausser-die-benannten-vektoren-selektieren" id="toc-alle-ausser-die-benannten-vektoren-selektieren" class="nav-link" data-scroll-target="#alle-ausser-die-benannten-vektoren-selektieren"><span class="header-section-number">11.5.2</span> Alle ausser die benannten Vektoren selektieren</a></li>
  <li><a href="#vektoren-mit-ähnlichen-namen-auswählen" id="toc-vektoren-mit-ähnlichen-namen-auswählen" class="nav-link" data-scroll-target="#vektoren-mit-ähnlichen-namen-auswählen"><span class="header-section-number">11.5.3</span> Vektoren mit ähnlichen Namen auswählen</a></li>
  <li><a href="#alle-vektoren-zwischen-zwei-benannten-vektoren-auswählen" id="toc-alle-vektoren-zwischen-zwei-benannten-vektoren-auswählen" class="nav-link" data-scroll-target="#alle-vektoren-zwischen-zwei-benannten-vektoren-auswählen"><span class="header-section-number">11.5.4</span> Alle Vektoren zwischen zwei benannten Vektoren auswählen</a></li>
  </ul></li>
  <li><a href="#sortieren" id="toc-sortieren" class="nav-link" data-scroll-target="#sortieren"><span class="header-section-number">11.6</span> Sortieren</a></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/dxiai/dxi-r/issues/new" class="toc-action">Problem melden</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="sec-chapter-booleans" class="quarto-section-identifier"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Boole’sche Operationen</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>In R stehen die logischen Operationen als <em>binäre</em> Operatoren zur Verfügung, bzw. als Funktionen mit genau zwei Parametern. Diese logischen Operatoren sind vektorisiert. Es ist deshalb unnötig, logische Ausdrücke durch die Boole’sche Arithmetik zu ersetzen. Lediglich die Reihenfolge der Ausführung dieser Opeartoren folgt der gleichen Regel wie die Arithmetik.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Merke
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Das logische Und entspricht der Multiplikation.</li>
<li>Das logische Oder entspricht der Addition.</li>
</ul>
</div>
</div>
<p>Daraus folgt, dass immer zuerst das logische Und und erst danach das logische Oder ausgewertet wird. Dieser Regel folgt auch R.</p>
<p>Die <a href="#tbl-logische-operatoren">Tabelle&nbsp;<span>11.1</span></a> stellt die logischen Operationen und die verschiedenen Schreibweisen gegenüber.</p>
<div id="tbl-logische-operatoren" class="anchored">
<table class="table">
<caption>Tabelle&nbsp;11.1: Die wichtigsten logischen Operatoren und ihre Entsprechung in R</caption>
<colgroup>
<col style="width: 18%">
<col style="width: 18%">
<col style="width: 18%">
<col style="width: 22%">
<col style="width: 22%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Operation</th>
<th style="text-align: left;">neutrales Element</th>
<th style="text-align: left;">Mathematisch</th>
<th style="text-align: center;">R</th>
<th style="text-align: center;">arithmetische Operation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Nicht</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;"><span class="math display"> \lnot </span></td>
<td style="text-align: center;"><code>!</code></td>
<td style="text-align: center;"><span class="math inline">1 - a</span></td>
</tr>
<tr class="even">
<td style="text-align: left;">Und</td>
<td style="text-align: left;">WAHR</td>
<td style="text-align: left;"><span class="math display"> \land </span></td>
<td style="text-align: center;"><code>&amp;</code></td>
<td style="text-align: center;"><span class="math inline">a \cdot b</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Oder</td>
<td style="text-align: left;">FALSCH</td>
<td style="text-align: left;"><span class="math display"> \lor </span></td>
<td style="text-align: center;"><code>|</code></td>
<td style="text-align: center;"><span class="math inline">a + b</span></td>
</tr>
<tr class="even">
<td style="text-align: left;">Exklusiv-Oder/Antivalenz</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;"><span class="math display"> \oplus </span></td>
<td style="text-align: center;"><code>xor()</code></td>
<td style="text-align: center;">(a - b)^2</td>
</tr>
</tbody>
</table>
</div>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Achtung
</div>
</div>
<div class="callout-body-container callout-body">
<p>Es gibt neben den beiden Operatoren <code>&amp;</code> und <code>|</code> auch die gedoppelte Varianten <code>&amp;&amp;</code> und <code>||</code>. Diese Varianten arbeiten auf den Binärwerten von Ganzzahlen und werden normalerweise <strong>nicht</strong> im Zusammenhang mit logischen Ausdrücken verwendet.</p>
</div>
</div>
<p>Das <strong>Logisches Nicht</strong> wird in R durch den Nicht-Operator (<code>!</code>) ausgedrückt. Dieser Operator wird auf jeden Wert eines Vektors einzeln angewandt.</p>
<div id="exm-logisches-nicht" class="theorem example">
<p><span class="theorem-title"><strong>Beispiel 11.1 (Logisches Nicht) </strong></span>&nbsp;</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>logischer_vektor <span class="ot">=</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="sc">!</span> logischer_vektor </span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE  TRUE  TRUE FALSE FALSE</code></pre>
</div>
</div>
</div>
<p>R wandelt numerische Werte automatisch in Wahrheitswerte um, wenn sie mit logischen Operationen verwendet werden. Dabei gilt:</p>
<ul>
<li><code>FALSE</code> entspricht <code>0</code></li>
<li><code>TRUE</code> entspricht <em>ungleich</em> <code>0</code></li>
</ul>
<div id="exm-autoconvert-not" class="theorem example">
<p><span class="theorem-title"><strong>Beispiel 11.2 </strong></span>&nbsp;</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="sc">!</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">0</span>, <span class="dv">4</span>, <span class="dv">0</span>) </span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE FALSE  TRUE FALSE  TRUE</code></pre>
</div>
</div>
</div>
<p>Wenn Sie in R zwei Vektoren mit dem Und- (<code>&amp;</code>), dem Oder-Operator (<code>|</code>) oder der Antivalenz (<code>xor()</code>) verknüpfen, dann werden die Werte <strong>immer</strong> <em>paarweise</em> miteinander verglichen. Ein einzelner Vektor kann nicht an die Funktion des jeweiligen Operators übergeben werden.</p>
<p><strong>Beispiel paarweise Verknüpfung</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>vektor_a <span class="ot">=</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>vektor_b <span class="ot">=</span> <span class="fu">c</span>(<span class="cn">TRUE</span>,  <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>vektor_a <span class="sc">&amp;</span> vektor_b </span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  TRUE FALSE FALSE FALSE  TRUE</code></pre>
</div>
</div>
<section id="logische-aggregationen-mit-reduce" class="level2" data-number="11.1">
<h2 data-number="11.1" class="anchored" data-anchor-id="logische-aggregationen-mit-reduce"><span class="header-section-number">11.1</span> Logische Aggregationen mit <code>reduce()</code></h2>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Merke
</div>
</div>
<div class="callout-body-container callout-body">
<p>Um logische Vektoren in <strong>R</strong> zu aggregieren, muss der Vektor <strong>reduziert</strong> (engl. <em>reduce</em>) werden. Das <em>Reduzieren</em> ist eine besondere <em>Aggregation</em> über eine Reihe von Werten, bei der jeder Wert gemeinsam mit dem Ergebnis der Vorgängerwerte an eine Funktion übergeben wird.</p>
</div>
</div>
<div id="exm-logical-reduce" class="theorem example">
<p><span class="theorem-title"><strong>Beispiel 11.3 (Aggregation logischer Vektoren) </strong></span>&nbsp;</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>beispielWerte <span class="ot">=</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>beispielWerte <span class="sc">|&gt;</span> <span class="fu">reduce</span>(<span class="st">`</span><span class="at">&amp;</span><span class="st">`</span>)   </span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>beispielWerte <span class="sc">|&gt;</span> <span class="fu">reduce</span>(<span class="st">`</span><span class="at">|</span><span class="st">`</span>)   </span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>beispielWerte <span class="sc">|&gt;</span> <span class="fu">reduce</span>(<span class="st">`</span><span class="at">xor</span><span class="st">`</span>) </span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
</div>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Wichtig
</div>
</div>
<div class="callout-body-container callout-body">
<p>Beim Reduzieren muss beachtet werden, dass eine Funktion und nicht den Operator übergeben wird. Deshalb muss der jeweilige logische Operator in Backticks (<code>`</code>) gesetzt und so als Funktionsbezeichner markiert werden.</p>
</div>
</div>
</section>
<section id="vergleiche" class="level2" data-number="11.2">
<h2 data-number="11.2" class="anchored" data-anchor-id="vergleiche"><span class="header-section-number">11.2</span> Vergleiche</h2>
<p>Neben den logischen Operationen sind Vergleiche ein wichtiges Konzept, das wir in logischen Ausdrücken regelmässig anwenden.</p>
<p>Es gibt genau sechs (6) Vergleichsoperatoren:</p>
<ul>
<li>Gleich (<code>==</code>)</li>
<li>Ungleich (<code>!=</code>)</li>
<li>Grösser als (<code>&gt;</code>)</li>
<li>Grösser gleich (<code>&gt;=</code>)</li>
<li>Kleiner als (<code>&lt;</code>)</li>
<li>Kleiner gleich (<code>&lt;=</code>)</li>
</ul>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warnung
</div>
</div>
<div class="callout-body-container callout-body">
<p>Vergleiche erfordern, dass beide Werte vom gleichen Datentyp sind.</p>
</div>
</div>
<p>Die Vergleiche funktionieren für alle fundamentalen Datentypen.</p>
<p>Bei Zeichenketten wertet R die alphabetische Reihenfolge der Symbole vom Beginn einer Zeichenkette aus, um grösser oder kleiner Vergleiche durchzuführen.</p>
<section id="die-existenz-eines-werts-in-einem-vektor-überprüfen" class="level3" data-number="11.2.1">
<h3 data-number="11.2.1" class="anchored" data-anchor-id="die-existenz-eines-werts-in-einem-vektor-überprüfen"><span class="header-section-number">11.2.1</span> Die Existenz eines Werts in einem Vektor überprüfen</h3>
<p>Häufig müssen Sie überprüfen, ob ein Wert in einer Liste vorkommt. Grundsätzlich können Sie das mit komplizierten logischen Verknüpfungen in der Art von <a href="#exm-check-without-in">Beispiel&nbsp;<span>11.4</span></a> schreiben.</p>
<div id="exm-check-without-in" class="theorem example">
<p><span class="theorem-title"><strong>Beispiel 11.4 (Existstenzprüfung ohne <code>%in%</code>) </strong></span>&nbsp;</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>meinWert <span class="ot">=</span> <span class="dv">3</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>wertVektor <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">8</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>meinWert <span class="sc">==</span> wertVektor[<span class="dv">1</span>] <span class="sc">|</span> meinWert <span class="sc">==</span> wertVektor[<span class="dv">2</span>] <span class="sc">|</span> meinWert <span class="sc">==</span> wertVektor[<span class="dv">3</span>]</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
</div>
<p>Einfacher ist aber ein sogenannter <em>Existenztest</em>. Dabei wird überprüft, ob ein Wert in einem Vektor vorkommt. Ein solcher Test lässt sich wie in <a href="#exm-check-with-in">Beispiel&nbsp;<span>11.5</span></a> schreiben:</p>
<div id="exm-check-with-in" class="theorem example">
<p><span class="theorem-title"><strong>Beispiel 11.5 (Existstenzprüfung mit <code>%in%</code>) </strong></span>&nbsp;</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>meinWert <span class="ot">=</span> <span class="dv">3</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>wertVektor <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">8</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>meinWert <span class="sc">%in%</span> wertVektor</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
</div>
<p>Entsprechend der Definition des Existenzvergleichs <span class="math inline">\in</span> funktioniert R’s <code>%in%</code>-Operator auch für Vektoren als linker Operand.</p>
</section>
</section>
<section id="fälle-unterscheiden" class="level2" data-number="11.3">
<h2 data-number="11.3" class="anchored" data-anchor-id="fälle-unterscheiden"><span class="header-section-number">11.3</span> Fälle unterscheiden</h2>
<section id="bedingte-operationen" class="level3" data-number="11.3.1">
<h3 data-number="11.3.1" class="anchored" data-anchor-id="bedingte-operationen"><span class="header-section-number">11.3.1</span> Bedingte Operationen</h3>
<p>R kennt die beiden Schlüsselworte <code>if</code> und <code>else</code>, um die Ausführung Operationsblöcken an Bedingungen zu knüpfen. Das Schlüsselwort <code>if</code> erwartet einen logischen Ausdruck, der <strong>genau</strong> einen Wahrheitswert zurückgibt. Logische Ausdrücke mit Vektoren sind damit nicht möglich.</p>
<p>Soll sowohl die Bedingung als auch die Alternative behandelt werden, dann muss das Schlüsselwort <code>else</code> in der gleichen Zeile stehen, wie das Ende des Blocks für die Bedingung.</p>
<div id="exm-ungueltiges-if" class="theorem example">
<p><span class="theorem-title"><strong>Beispiel 11.6 (Ungültige Vektorbedingung mit <code>if</code>) </strong></span>&nbsp;</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>werte <span class="ot">=</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">0</span>, <span class="dv">1</span>)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (werte <span class="sc">&gt;</span> <span class="dv">1</span>) {</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>    werte <span class="ot">=</span> werte <span class="sc">-</span> <span class="dv">1</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>    werte <span class="ot">=</span> <span class="dv">0</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in if (werte &gt; 1) {: Bedingung hat Länge &gt; 1</code></pre>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Praxis
</div>
</div>
<div class="callout-body-container callout-body">
<p>Bedingte Operationen sind in R nur selten notwendig. Die einzige relevandte Anwendung ist Datentypkontrolle für Parameter bevor die eigentliche Operation durchgeführt wird.</p>
</div>
</div>
<div id="exm-datentyppruefung-if" class="theorem example">
<p><span class="theorem-title"><strong>Beispiel 11.7 (Datentypprüfung mit <code>if</code>) </strong></span>&nbsp;</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.list</span>(werte)) {</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stop</span>(<span class="st">"Variable enthält keine Liste"</span>)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(expr, envir, enclos): Variable enthält keine Liste</code></pre>
</div>
</div>
</div>
</section>
<section id="vektorisierte-unterscheidungen" class="level3" data-number="11.3.2">
<h3 data-number="11.3.2" class="anchored" data-anchor-id="vektorisierte-unterscheidungen"><span class="header-section-number">11.3.2</span> Vektorisierte Unterscheidungen</h3>
<p>Häufiger als Bedingungen kommen in R vektorisierte Unterscheidungen vor. Dafür stehen zwei Funktionen zur Verfügung:</p>
<ul>
<li><code>ifelse()</code></li>
<li><code>case_when()</code></li>
</ul>
<p>Die Funktion <code>ifelse()</code> hat drei Parameter und immer einen Vektor als Ergebnis. Die Parameter sind:</p>
<ol type="1">
<li>Einen vektorisierten logischen Ausdruck.</li>
<li>Eine Operation für den Fall, dass der logische Ausdruck Wahr (<code>TRUE</code>) ergibt.</li>
<li>Eine Opearation für den Fall, dass der logische Ausdruck Falsch (<code>FALSE</code>) ergibt.</li>
</ol>
<p>Die Ergebnisse der beiden Operationen stehen im Ergebnisvektor an den Positionen, an denen der logische Ausdruck Wahr oder Falsch ergab.</p>
<div id="exm-ifelse" class="theorem example">
<p><span class="theorem-title"><strong>Beispiel 11.8 (Vektorisierte Unterscheidung mit <code>ifelse()</code>) </strong></span>&nbsp;</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ifelse</span>(werte <span class="sc">&gt;</span> <span class="dv">1</span>, werte <span class="sc">*</span> <span class="dv">2</span>, <span class="dv">0</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0 4 0 0</code></pre>
</div>
</div>
</div>
<p>Die Funktion <code>case_when()</code> erlaubt es, mehrere miteinander verbundene vektorisierte Unterscheidungen in einer Operation durchzuführen. Dazu werden logische Ausdrücke mit Ergebnisoperationen bzw. -Werten verknüpft. Eine Ergebnisoperation wird dann ausgeführt, wenn der zugehörige logische Ausdruck Wahr (<code>TRUE</code>) ergibt. Die logischen Ausdrücke werden in der angegebenen Reihenfolge geprüft, wobei die Operation abbricht, sobald ein logischer Ausdruck Wahr ergibt.</p>
<div id="exm-case-when-default" class="theorem example">
<p><span class="theorem-title"><strong>Beispiel 11.9 (<code>case_when()</code> über einen Vektor) </strong></span>&nbsp;</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">case_when</span>(</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>    werte <span class="sc">&gt;</span> <span class="dv">0</span> <span class="sc">~</span> <span class="st">"positiv"</span>,</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>    werte <span class="sc">==</span> <span class="dv">0</span> <span class="sc">~</span> <span class="st">"null"</span>,</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>    werte <span class="sc">&lt;</span> <span class="dv">0</span> <span class="sc">~</span> <span class="st">"negativ"</span> </span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "negativ" "positiv" "null"    "positiv"</code></pre>
</div>
</div>
</div>
<p>Für den Fall, dass für einen Wert kein logischer Ausdruck Wahr ergibt, kann ein <strong>Rückfallergebnis</strong> angegeben werden. Dieses Rückfallergebnis muss mit <code>.default =</code> eingeleitet werden.</p>
<div id="exm-case-when-default" class="theorem example">
<p><span class="theorem-title"><strong>Beispiel 11.10 (<code>case_when()</code> mit Rückfallergebnis) </strong></span>&nbsp;</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">case_when</span>(</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>    werte <span class="sc">&gt;</span> <span class="dv">0</span> <span class="sc">~</span> <span class="st">"positiv"</span>,</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>    werte <span class="sc">&lt;</span> <span class="dv">0</span> <span class="sc">~</span> <span class="st">"negativ"</span>,</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">.default =</span> <span class="st">"null"</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "negativ" "positiv" "null"    "positiv"</code></pre>
</div>
</div>
</div>
</section>
</section>
<section id="filtern" class="level2" data-number="11.4">
<h2 data-number="11.4" class="anchored" data-anchor-id="filtern"><span class="header-section-number">11.4</span> Filtern</h2>
<p>Das Filtern von Werten in Vektoren und Stichproben ist ein zentrales Element von R. Dafür stehen viele Funktionen bereit. Es ist auch möglich über die Index-Operatoren zu filtern.</p>
<p>In der Praxis wird meistens die Funktion <code>filter()</code> zum Auswählen von Datensätzen verwendet. Diese Funktion ermöglicht es, einen Datenrahmen mittels eines logischen Ausdrucks einzuschränken. Die Funktion <code>filter()</code> hat zwei Parameter:</p>
<ol type="1">
<li>Den Datenrahmen und</li>
<li>Den logischen Ausdruck für die Auswahl der Datensätze.</li>
</ol>
<p>Das Ergebnis ist ein Datenrahmen, der nur Datensätze enthält, für die der logische Ausdruck Wahr (<code>TRUE</code>) ergibt.</p>
<blockquote class="blockquote">
<div id="exm-filter" class="theorem example">
<p><span class="theorem-title"><strong>Beispiel 11.11 (Filtern) </strong></span>&nbsp;</p>
<table class="table">
<thead>
<tr class="header">
<th style="text-align: center;"></th>
<th style="text-align: left;">A</th>
<th style="text-align: center;">B</th>
<th style="text-align: center;">C</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><strong>1</strong></td>
<td style="text-align: left;"><em>Name</em></td>
<td style="text-align: center;"><em>Sprache</em></td>
<td style="text-align: center;"><em>Einwohner:innen</em></td>
</tr>
<tr class="even">
<td style="text-align: center;"><strong>2</strong></td>
<td style="text-align: left;">Basel</td>
<td style="text-align: center;">deutsch</td>
<td style="text-align: center;">173863</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><strong>3</strong></td>
<td style="text-align: left;">Genf</td>
<td style="text-align: center;">&nbsp;französisch</td>
<td style="text-align: center;">203856</td>
</tr>
<tr class="even">
<td style="text-align: center;"><strong>4</strong></td>
<td style="text-align: left;">Lugano</td>
<td style="text-align: center;">italienisch</td>
<td style="text-align: center;">62315</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><strong>5</strong></td>
<td style="text-align: left;">Zug</td>
<td style="text-align: center;">deutsch&nbsp;</td>
<td style="text-align: center;">30934</td>
</tr>
<tr class="even">
<td style="text-align: center;"><strong>6</strong></td>
<td style="text-align: left;">Zürich</td>
<td style="text-align: center;">deutsch&nbsp;</td>
<td style="text-align: center;">421878</td>
</tr>
</tbody>
</table>
<p>Für diese Stichprobe möchten wir wissen, wie viele Einwohner in Städten mit mehr als 100000 Einwohnenden leben?</p>
<p>Diese Frage beantworten wir mit der folgenden Logik:</p>
<ol type="1">
<li>Alle Städte mit mehr als 100000 Einwohner:innen filtern.<br>
</li>
<li>Die Einwohner:innen der gefilterten Städte zusammenzählen.</li>
</ol>
<p>Der logische Ausdruck zum Filtern ist <code>`Einwohner:innen` &gt; 100000</code>, weil dieser Ausdruck nur für die Datensätze Wahr wird, wenn im Vektor <code>Einwohner:innen</code> der Wert grösser als <code>100000</code> ist. Nach dem Filtern im ersten Schritt liegt nur noch die folgende Stichprobe vor:</p>
<table class="table">
<thead>
<tr class="header">
<th style="text-align: center;"></th>
<th style="text-align: left;">A</th>
<th style="text-align: center;">B</th>
<th style="text-align: center;">C</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><strong>1</strong></td>
<td style="text-align: left;"><em>Name</em></td>
<td style="text-align: center;"><em>Sprache</em></td>
<td style="text-align: center;"><em>Einwohner:innen</em></td>
</tr>
<tr class="even">
<td style="text-align: center;"><strong>2</strong></td>
<td style="text-align: left;">Basel</td>
<td style="text-align: center;">deutsch</td>
<td style="text-align: center;">173863</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><strong>3</strong></td>
<td style="text-align: left;">Genf</td>
<td style="text-align: center;">&nbsp;französisch</td>
<td style="text-align: center;">203856</td>
</tr>
<tr class="even">
<td style="text-align: center;"><strong>6</strong></td>
<td style="text-align: left;">Zürich</td>
<td style="text-align: center;">deutsch&nbsp;</td>
<td style="text-align: center;">421878</td>
</tr>
</tbody>
</table>
<p>Für diese Teilstichprobe muss im zweiten Schritt nur noch die Summe über den Vektor <code>Einwohner:innen</code> gebildet werden.</p>
<p>Daraus ergibt sich die folgende Funktionskette:</p>
<div class="cell" data-warnings="false">
<div class="sourceCode cell-code" id="annotated-cell-1"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><a class="code-annotation-anchor" data-target-cell="annotated-cell-1" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-1-1" class="code-annotation-target"><a href="#annotated-cell-1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">read_delim</span>(<span class="st">"daten/einwohnende.psv"</span>,</span>
<span id="annotated-cell-1-2"><a href="#annotated-cell-1-2" aria-hidden="true" tabindex="-1"></a>           <span class="at">delim =</span> <span class="st">"|"</span>,</span>
<span id="annotated-cell-1-3"><a href="#annotated-cell-1-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">trim_ws =</span> T,</span>
<span id="annotated-cell-1-4"><a href="#annotated-cell-1-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">show_col_types =</span> F) <span class="sc">|&gt;</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-1" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-1-5" class="code-annotation-target"><a href="#annotated-cell-1-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="st">`</span><span class="at">Einwohner:innen</span><span class="st">`</span> <span class="sc">&gt;</span> <span class="dv">100000</span>) <span class="sc">|&gt;</span></span>
<span id="annotated-cell-1-6"><a href="#annotated-cell-1-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(</span>
<span id="annotated-cell-1-7"><a href="#annotated-cell-1-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">Gesamteinwohnende =</span> <span class="fu">sum</span>(<span class="st">`</span><span class="at">Einwohner:innen</span><span class="st">`</span>)</span>
<span id="annotated-cell-1-8"><a href="#annotated-cell-1-8" aria-hidden="true" tabindex="-1"></a>    )</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-1" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-1" data-code-lines="1,2,3,4" data-code-annotation="1"><code>read_delim()</code> muss verwendet werden, weil ein besonderes Trennzeichen benutzt wird.</span>
</dd>
<dt data-target-cell="annotated-cell-1" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-1" data-code-lines="5" data-code-annotation="2">Filter operation.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
  Gesamteinwohnende
              &lt;dbl&gt;
1            799597</code></pre>
</div>
</div>
</div>
</blockquote>
<section id="na-werte-filtern" class="level3" data-number="11.4.1">
<h3 data-number="11.4.1" class="anchored" data-anchor-id="na-werte-filtern"><span class="header-section-number">11.4.1</span> <code>NA</code>-Werte filtern</h3>
<p>Die Funktion <code>drop_na()</code> ist eine spezielle Filterfunktion, deren Ergebnis nur Datensätze enthält, in denen bei keinem Vektor den Wert <code>NA</code> vorkommt. Die Funktion hat keinen Effekt, wenn ein Datenrahmen nur gültige Werte enthält (<a href="#exm-drop-na-all">Beispiel&nbsp;<span>11.12</span></a>).</p>
<div id="exm-drop-na-all" class="theorem example">
<p><span class="theorem-title"><strong>Beispiel 11.12 (<code>drop_na()</code> ohne Effekt) </strong></span>&nbsp;</p>
</div>
</section>
</section>
<section id="selektieren" class="level2" data-number="11.5">
<h2 data-number="11.5" class="anchored" data-anchor-id="selektieren"><span class="header-section-number">11.5</span> Selektieren</h2>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Praxis
</div>
</div>
<div class="callout-body-container callout-body">
<p>Die <code>tidyverse</code> Bibliothek umfasst die <a href="https://tidyselect.r-lib.org/reference/language.html"><code>tidyselect</code>-Funktionen</a>. Dabei handelt es sich um eine Reihe von Hilfsfunktionen, die die Vektorenauswahl nachvollziehbarer macht. Auf der <a href="https://tidyselect.r-lib.org/"><code>tidyselect</code>-Homepage</a> finden sich ausführliche Code-Beispiele.</p>
</div>
</div>
<p>In R können Vektoren mit der Funktion <code>select()</code> selektiert werden. Dieser Funktion werden Regeln übergeben, nach denen die Vektoren auswählt werden sollen. Die einfachste Regel ist die direkte Eingabe der Vektorennamen. Ein typischer Anwendungsfall ist die Datenbereinigung, damit die Funktion <code>drop_na()</code> nicht zu viele Datensätze löscht. Diese Situation kommt vor, wenn ein Datenrahmen viele fehlende Werte enthält, die ungleichmässig in den Vektoren vorkommen. Die Analyse muss deshalb auf die gewünschten Vektoren beschränkt werden.</p>
<p>Für die folgenden Beispiele verwenden wir die Daten der Befragung zum digitalen Umfeld, die mit der <code>read_csv()</code>-Funktion eingelesen wird.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>stichprobe <span class="ot">=</span> <span class="fu">read_csv</span>(<span class="st">"daten/befragung_digitales_umfeld/deviceuse.csv"</span>) </span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 76 Columns: 4
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr (4): q00_demo_gen, q00_demo_studyload, q01_mob_typ, q12_fav_apps

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
</div>
<section id="vektoren-direkt-selektieren" class="level3" data-number="11.5.1">
<h3 data-number="11.5.1" class="anchored" data-anchor-id="vektoren-direkt-selektieren"><span class="header-section-number">11.5.1</span> Vektoren direkt selektieren</h3>
<p>Wir wollen die Vektoren <code>q00_demo_gen</code> (Gender), <code>q00_demo_studyload</code> (Studienmodell) und <code>q01_mob_typ</code> (Mobile OS des Smartphones) auswählen.</p>
<div id="exm-select-direkt" class="theorem example">
<p><span class="theorem-title"><strong>Beispiel 11.13 (Direktes selektieren) </strong></span>&nbsp;</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>stichprobe <span class="sc">|&gt;</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(q00_demo_gen, q00_demo_studyload, q01_mob_typ) <span class="sc">|&gt;</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">head</span>()</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 3
  q00_demo_gen q00_demo_studyload q01_mob_typ       
  &lt;chr&gt;        &lt;chr&gt;              &lt;chr&gt;             
1 Weiblich     Vollzeit           iPhone            
2 Weiblich     Vollzeit           iPhone            
3 Weiblich     Teilzeit           iPhone            
4 Weiblich     Teilzeit           iPhone            
5 Männlich     &lt;NA&gt;               Android Smartphone
6 Weiblich     Vollzeit           iPhone            </code></pre>
</div>
</div>
</div>
<p>Durch diesen Aufruf von <code>select()</code> wird der Datenrahmen auf die drei ausgewählten Vektoren reduziert.</p>
</section>
<section id="alle-ausser-die-benannten-vektoren-selektieren" class="level3" data-number="11.5.2">
<h3 data-number="11.5.2" class="anchored" data-anchor-id="alle-ausser-die-benannten-vektoren-selektieren"><span class="header-section-number">11.5.2</span> Alle ausser die benannten Vektoren selektieren</h3>
<p>Vektoren direkt zu benennen ist eine einfache direkte Methode. Wenn man sehr viele Vektoren auswählen möchte, dann ist es manchmal einfacher, nur die Vektoren anzugeben, die <em>nicht</em> in der Ergebnisstichprobe enthalten sein sollen. Mit <code>select()</code> erreichen wir das, indem wir ein <code>-</code> den ungewollten Vektoren voranstellen.</p>
<p>Das folgende Beispiel selektiert alle Vektoren ausser <code>q00_demo_gen</code> aus der Stichprobe.</p>
<div id="exm-select-direkt-neg" class="theorem example">
<p><span class="theorem-title"><strong>Beispiel 11.14 (Selektieren durch Ausschliessen) </strong></span>&nbsp;</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>stichprobe <span class="sc">|&gt;</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span>q00_demo_gen) <span class="sc">|&gt;</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">head</span>()</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Wenn mehrere Vektoren ausgeschlossen werden sollen, dann müssen diese zu einem Vektor zusammengefasst werden.</p>
<div id="exm-select-direkt-neg-multi" class="theorem example">
<p><span class="theorem-title"><strong>Beispiel 11.15 (Selektieren durch mehrfaches Ausschliessen) </strong></span>&nbsp;</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>stichprobe <span class="sc">|&gt;</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span> <span class="fu">c</span>(q00_demo_gen, q00_demo_studyload)) <span class="sc">|&gt;</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">head</span>()</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Diese Vektorenauswahl wählt alle Vektoren ausser das Geschlecht und das Studienmodell.</p>
</section>
<section id="vektoren-mit-ähnlichen-namen-auswählen" class="level3" data-number="11.5.3">
<h3 data-number="11.5.3" class="anchored" data-anchor-id="vektoren-mit-ähnlichen-namen-auswählen"><span class="header-section-number">11.5.3</span> Vektoren mit ähnlichen Namen auswählen</h3>
<p>Drei leistungsfähige Hilfsfunktionen für <code>select()</code> sind:</p>
<ul>
<li><code>starts_with()</code>,</li>
<li><code>ends_with()</code> sowie</li>
<li><code>contains()</code></li>
</ul>
<p>Diesen Funktionen akzeptieren einen Teilnamen, über den mehrere Vektoren ausgewählt werden, in denen der angegebene Teil im Vektornamen vorkommt.</p>
<p>Diese Funktionen lassen sich mittels der <code>iris</code>-Stichprobe veranschaulichen.</p>
<div id="exm-select-starts-with" class="theorem example">
<p><span class="theorem-title"><strong>Beispiel 11.16 (Selektieren mit <code>starts_with()</code>) </strong></span>&nbsp;</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>iris <span class="sc">|&gt;</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="fu">starts_with</span>(<span class="st">"Sepal"</span>)) <span class="sc">|&gt;</span>  <span class="co"># wählt die Vektoren Sepal.Width und Sepal.Length aus</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">head</span>()</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Sepal.Length Sepal.Width
1          5.1         3.5
2          4.9         3.0
3          4.7         3.2
4          4.6         3.1
5          5.0         3.6
6          5.4         3.9</code></pre>
</div>
</div>
</div>
<div id="exm-select-ends-with" class="theorem example">
<p><span class="theorem-title"><strong>Beispiel 11.17 (Selektieren mit <code>ends_with()</code>) </strong></span>&nbsp;</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>iris <span class="sc">|&gt;</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="fu">ends_with</span>(<span class="st">"Length"</span>)) <span class="sc">|&gt;</span> <span class="co"># wählt die Vektoren Petal.Length und Sepal.Length aus</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">head</span>()</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Sepal.Length Petal.Length
1          5.1          1.4
2          4.9          1.4
3          4.7          1.3
4          4.6          1.5
5          5.0          1.4
6          5.4          1.7</code></pre>
</div>
</div>
</div>
</section>
<section id="alle-vektoren-zwischen-zwei-benannten-vektoren-auswählen" class="level3" data-number="11.5.4">
<h3 data-number="11.5.4" class="anchored" data-anchor-id="alle-vektoren-zwischen-zwei-benannten-vektoren-auswählen"><span class="header-section-number">11.5.4</span> Alle Vektoren zwischen zwei benannten Vektoren auswählen</h3>
<p>Eine weitere Möglichkeit schneller viele Vektoren auszuwählen ist der <code>:</code>-Operator. Damit können wir alle Vektoren zwischen zwei Vektoren inklusive der benannten Vektoren auswählen.</p>
<p>Der folgende Aufruf veranschaulicht dies: ::: {#exm-select-range} ## Vektorenbereich selektieren</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>stichprobe <span class="sc">|&gt;</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(q00_demo_gen<span class="sc">:</span>q01_mob_typ) <span class="sc">|&gt;</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">head</span>()</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 3
  q00_demo_gen q00_demo_studyload q01_mob_typ       
  &lt;chr&gt;        &lt;chr&gt;              &lt;chr&gt;             
1 Weiblich     Vollzeit           iPhone            
2 Weiblich     Vollzeit           iPhone            
3 Weiblich     Teilzeit           iPhone            
4 Weiblich     Teilzeit           iPhone            
5 Männlich     &lt;NA&gt;               Android Smartphone
6 Weiblich     Vollzeit           iPhone            </code></pre>
</div>
</div>
<p>:::</p>
<p>Diese Vektorenauswahl wählt die Vektoren <code>q00_demo_gen</code>, <code>q00_demo_studyload</code> und <code>q01_mob_typ</code> für das Ergebnis aus.</p>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warnung
</div>
</div>
<div class="callout-body-container callout-body">
<p>Die Reihenfolge von Vektoren kann durch andere Transformationen geändert werden. Deshalb sollte das Selektieren mit Vektorbereichen vermieden werden.</p>
</div>
</div>
</section>
</section>
<section id="sortieren" class="level2" data-number="11.6">
<h2 data-number="11.6" class="anchored" data-anchor-id="sortieren"><span class="header-section-number">11.6</span> Sortieren</h2>
<p>R erlaubt kein Sortieren über logische Ausdrücke. Es ist nur möglich, Werte nach vorgegebenen grösser-kleiner Beziehungen zu sortieren. Deshalb muss für komplexe Sortierungen ein numerischer Hilfsvektor erzeugt werden, der anschliessend sortiert werden kann.</p>
<p>Die Werte eines Vektors werden mit <code>sort()</code> sortiert.</p>
<div id="exm-sort" class="theorem example">
<p><span class="theorem-title"><strong>Beispiel 11.18 (Vektorsortierung für zufällige Ganzzahlen) </strong></span>&nbsp;</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">10</span>)</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="fu">runif</span>(<span class="dv">10</span>, <span class="at">min =</span> <span class="dv">1</span>, <span class="at">max =</span> <span class="dv">10</span>) <span class="sc">|&gt;</span> <span class="fu">trunc</span>() <span class="sc">|&gt;</span> <span class="fu">sort</span>()</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 1 3 3 3 3 4 4 5 6 7</code></pre>
</div>
</div>
</div>
<p>Die <code>sort()</code>-Funktion kann nur einzelne Vektoren sortieren. Das ist unpraktisch, wenn Daten in einem Datenrahmen vorliegen. In diesem Fall lassen sich die Datensätze mithilfe der Funktion <code>arrange()</code> sortieren. Der Funktion werden die Vektoren übergeben, über die eine neue Reihenfolge festgelegt werden soll. Standardmässig sortiert <code>arrange()</code> aufsteigend. Mit der Hilfsfunktion <code>desc()</code> (engl. descending = absteigen) werden Datensätze entsprechend der Werte im Sortiervektor absteigend sortiert.</p>
<div id="exm-sort" class="theorem example">
<p><span class="theorem-title"><strong>Beispiel 11.19 (Absteigende Datenrahmensortierung mit <code>arrange()</code>) </strong></span>&nbsp;</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">as_tibble</span>(<span class="at">rownames =</span> <span class="st">"model"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(model, hp, disp, mpg, am) <span class="sc">|&gt;</span> </span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(<span class="fu">desc</span>(hp)) <span class="sc">|&gt;</span> </span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">head</span>()</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 5
  model                  hp  disp   mpg    am
  &lt;chr&gt;               &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1 Maserati Bora         335   301  15       1
2 Ford Pantera L        264   351  15.8     1
3 Duster 360            245   360  14.3     0
4 Camaro Z28            245   350  13.3     0
5 Chrysler Imperial     230   440  14.7     0
6 Lincoln Continental   215   460  10.4     0</code></pre>
</div>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Kopiert");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Kopiert");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../../kapitel/faktoren/kapitel.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Faktoren</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../../kapitel/vektor-operationen/kapitel.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Vektoroperationen</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>